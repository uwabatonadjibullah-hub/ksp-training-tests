<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Quiz</title>
  <script defer src="questions.js"></script>
  <script defer src="config.js"></script>
</head>
<body>
  <h1 id="greeting"></h1>
  <p id="quote" style="font-size: 1.2em; color: #2c3e50;"></p>

  <div id="timer" style="font-size: 1.5em; color: red;"></div>
  <div id="quiz-container"></div>
  <button id="submit-btn">Submit Answers</button>

  <script>
    // Sample motivational quotes
    const quotes = [
      "Success is not final, failure is not fatal: It is the courage to continue that counts. — Winston Churchill",
      "Believe you can and you're halfway there. — Theodore Roosevelt",
      "Your only limit is your mind. Keep pushing forward!",
      "Every accomplishment starts with the decision to try.",
      "You’ve got this, IAM. Let your brilliance shine!"
    ];

    document.addEventListener("DOMContentLoaded", () => {
      // Get student name from localStorage or prompt
      let studentName = localStorage.getItem("studentName");
      if (!studentName) {
        studentName = prompt("Enter your name:");
        localStorage.setItem("studentName", studentName);
      }

      // Display greeting and quote
      document.getElementById("greeting").textContent = `Welcome to the Quiz, ${studentName}!`;
      document.getElementById("quote").textContent = quotes[Math.floor(Math.random() * quotes.length)];

      // Render quiz questions
      const container = document.getElementById("quiz-container");
      questions.forEach((q, index) => {
        const div = document.createElement("div");
        div.innerHTML = `<p><strong>Q${index + 1}:</strong> ${q.question}</p>`;
        q.options.forEach((option, i) => {
          div.innerHTML += `
            <label>
              <input type="radio" name="question${index}" value="${i}">
              ${option}
            </label><br>`;
        });
        container.appendChild(div);
      });

      // Submit answers
      document.getElementById("submit-btn").addEventListener("click", () => {
        const answers = questions.map((_, i) => {
          const selected = document.querySelector(`input[name="question${i}"]:checked`);
          return selected ? parseInt(selected.value) : null;
        });
        localStorage.setItem("userAnswers", JSON.stringify(answers));
        window.location.href = "results.html";
      });
    });
  </script>
</body>
</html>