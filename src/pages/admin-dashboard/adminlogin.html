<script type="module">
  import { auth } from "./firebase.js"; // âœ… Import from firebase.js

  import { signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-auth.js";

  const adminEmails = ["admin@ksp.rw", "nadjibullah@ksp.rw"];

  document.getElementById("loginForm").addEventListener("submit", function (e) {
    e.preventDefault();
    const email = document.getElementById("loginEmail").value;
    const password = document.getElementById("loginPassword").value;

    signInWithEmailAndPassword(auth, email, password)
      .then((userCredential) => {
        const userEmail = userCredential.user.email;

        if (adminEmails.includes(userEmail)) {
          alert("Welcome Admin! ðŸš€");
          window.location.href = "admin-dashboard.html";
        } else {
          alert("Access denied: You are not an admin.");
        }
      })
      .catch((error) => {
        document.getElementById("errorMsg").textContent = "Login failed: " + error.message;
      });
  });
</script>